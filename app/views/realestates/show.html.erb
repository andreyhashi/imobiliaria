<p>
  <%@realestate.pictures.each do |picture|%>
    <%= image_tag picture.image.url(:thumb) %>
  <% end %>
</p>

<h3>
  <strong><i class="fa fa-map-marker"></i></strong>
  <%= @realestate.street %>, <%= @realestate.district %>,
  <%= @realestate.city %> - <%= @realestate.state %>
</h3>

<p>
  <strong><%= Realestate.human_attribute_name(:re_type) %>:</strong>
  <%= @realestate.re_type %>
</p>

<p>
  <strong><%= Realestate.human_attribute_name(:category) %>:</strong>
  <%= @realestate.category %>
</p>

<p>
  <strong><%= Realestate.human_attribute_name(:price) %>:</strong>
  <%= number_to_currency @realestate.price %>
</p>

<p>
  <strong><%= Realestate.human_attribute_name(:description) %>:</strong>
  <%= @realestate.description %>
</p>

<p>
  <strong><%= t('added') %>:</strong>
  <%=l @realestate.created_at %>
</p>

<script>
      function initMap() {
        var uluru = '<%= "#{@realestate.street}, #{@realestate.district}, #{@realestate.city}, #{@realestate.state}" %>'
        var map = new google.maps.Map(document.getElementById('map'), { zoom: 16 });
        var geocoder = new google.maps.Geocoder;
        geocoder.geocode({'address': uluru}, function(results, status) {
          if (status === 'OK') {
            map.setCenter(results[0].geometry.location);
            new google.maps.Marker({
              map: map,
              position: results[0].geometry.location
            });
          } else {
            window.alert('Geocode was not successful for the following reason: ' +
                status);
          }
        });
        // var uluru = {lat: -25.363, lng: 131.044};
        // var marker = new google.maps.Marker({
          // position: uluru,
          // map: map
        // });
      }
</script>

<div style='width: 100%;'>
  <div id="map" style='width: 100%; height: 400px;'></div>
</div>

<% if user_signed_in? %>
  <%= link_to t('edit'), edit_realestate_path(@realestate) %> | 
  <%= link_to t('remove'), @realestate, method: :delete, data: { confirm: t('confirmation') } %>
<% end %>

<% content_for :javascript do %>
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDlyvKxnErCee57UucS2NZQLhTmDuuoCN0&callback=initMap"></script>
<% end %>